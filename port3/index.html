<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>port</title>

    <!-- CSS Style -->
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style.css">

</head>

<body>


    <div id="loading">
        <span class="l_box lb1"></span>
        <span class="l_box lb2"></span>
        <span class="l_box lb3"></span>
        <span class="l_box lb4"></span>
        <span class="l_box lb5"></span>
    </div>

    <!-- //loading -->


    <div id="wrap">
        <header id="header">
            <div class="header">
                <div class="h_left"><a href="#">Portfolio</a></div>
                <div class="h_center"><a href="#">hong</a></div>
                <div class="h_right">
                    <div class="right_box1"><a href="#" class="sr-only">menu</a></div>
                    <div class="right_box2"><a href="#" class="sr-only">menu</a></div>
                </div>
            </div>
        </header>
        <!-- //header -->

        <main>
            <section id="mainCont">
                <div class="mainText">
                    <div class="split1 text">WE PROVIDE</div>
                    <div class="split2 text">VISUAL CODING</div>
                    <div class="split3 text">SOLUTIONS</div>
                    <div class="split4 text">FOR YOU WEBS</div>
                </div>
            </section>
        </main>
        <!-- //main -->
        <footer>
            <div class="f_left">
                <ul>
                    <li>email</li>
                    <li><a href="#">ty123486@naver.com</a></li>
                </ul>
            </div>
            <div class="f_center">
                <ul>
                    <li>kakao</li>
                    <li><a href="#">hgy5710</a></li>
                </ul>
            </div>
            <div class="f_right">
                <ul>
                    <li>social</li>
                    <li><a href="#">instagram</a></li>
                    <li><a href="#">facebook</a></li>
                    <li><a href="#">github</a></li>
                </ul>
            </div>
        </footer>
        <!-- footer -->


        <img src="http://hgy5710.dothome.co.kr/effect/img/images03@2.jpg" alt="d" class="img">

    

    </div>
    

    <!-- script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="assets/js/skrollr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="http://flairgale.cafe24.com/para/js/imagesloaded.pkgd.min.js"></script>

    <script>

        //skrollr 
         var s = skrollr.init({
            edgeStrategy: 'set',
            easing: 'linear'
        });


        //header 글씨 쪼개기
        let text1 = document.querySelector(".split1"),
            splitText1 = text1.innerText;
            splitWrap1 = splitText1.split("").join("</span><span aria-hidden: 'true'>");
            splitWrap1 = "<span aria-hidden: 'true'>" + splitWrap1 + "</span>";
        
            text1.innerHTML = splitWrap1;
        
        text1.setAttribute("aria-label", splitText1);

        let text2 = document.querySelector(".split2"),
            splitText2 = text2.innerText;
            splitWrap2 = splitText2.split("").join("</span><span aria-hidden: 'true'>");
            splitWrap2 = "<span aria-hidden: 'true'>" + splitWrap2 + "</span>";
        
            text2.innerHTML = splitWrap2;
        
        text2.setAttribute("aria-label", splitText2);

        let text3 = document.querySelector(".split3"),
            splitText3 = text3.innerText;
            splitWrap3 = splitText3.split("").join("</span><span aria-hidden: 'true'>");
            splitWrap3 = "<span aria-hidden: 'true'>" + splitWrap3 + "</span>";
        
            text3.innerHTML = splitWrap3;
        
        text3.setAttribute("aria-label", splitText3);

        let text4 = document.querySelector(".split4"),
            splitText4 = text4.innerText;
            splitWrap4 = splitText4.split("").join("</span><span aria-hidden: 'true'>");
            splitWrap4 = "<span aria-hidden: 'true'>" + splitWrap4 + "</span>";
        
            text4.innerHTML = splitWrap4;
        
        text4.setAttribute("aria-label", splitText4);

        //한글자씩 나오게 하기
        window.addEventListener("scroll", () => {
            document.querySelector("#mainCont .mainText").elem.classList.add("show");
        });


        // loading
        // function loading() {
        //     let $progress = $("#loading");

        //     let imgLoad = imagesLoaded("body"),
        //         imgTotal = imgLoad.images.length,
        //         imgLoaded = 0,
        //         imgCurrent = 0,
        //         progressTimer = setInterval(updateProgress, 100000/60);

        //     imgLoad.on("progress", function () {
        //         imgLoaded++;
        //     });

        //     function updateProgress(){
        //         let target = ( imgLoaded/imgTotal ) * 100;
        //         imgCurrent += (target - imgCurrent) * 0.1;

        //         if( imgCurrent >= 100 ){
        //             clearInterval(progressTimer);
        //             $("body").addClass("active");
        //             gsap.to($progress, {
        //                 duration: 1, 
        //                 left: "-110%",
        //                 ease: "power4.out"
        //             });
        //             //메인 애니메이션
        //             let tl = gasp.timeline();
        //         }

        //         if( imgCurrent > 99 ){
        //             imgCurrent = 100;
        //         }
        //     }
        // }
        
        // loading();

        function loading(){
            let $loading = $('#loading');

            let imgLoad = imagesLoaded("body"),
                imgTotal = imgLoad.images.length,
                imgLoaded = 0,
                imgCurrent = 0,
                progressTimer = setInterval(updateProgress, 1000/60);

            imgLoad.on('progress', function(){
                imgLoaded++;
            });

            function updateProgress(){
                let target = (imgLoaded/imgTotal) * 100;
                imgCurrent += (target - imgCurrent) * 0.1;

                if(imgCurrent >= 100){
                    clearInterval(progressTimer);

                    $("body").addClass("active");
                    gsap.to($("#loading .lb1"), {
                        duration: 1.5, 
                        left: '-110%',
                        ease: "power2.out"
                    })
                    gsap.to($("#loading .lb2"), {
                        duration: 1.5, 
                        left: '-110%',
                        ease: "power2.out",
                        delay: '.2'
                    })
                    gsap.to($("#loading .lb3"), {
                        duration: 1.5, 
                        left: '-110%',
                        ease: "power2.out",
                        delay: '.4'
                    })
                    gsap.to($("#loading .lb4"), {
                        duration: 1.5, 
                        left: '-110%',
                        ease: "power2.out",
                        delay: '.6'
                    })
                    gsap.to($("#loading .lb5"), {
                        duration: 1.5, 
                        left: '-110%',
                        ease: "power2.out",
                        delay: '.8'
                    })
                    gsap.to($loading, {
                        duration: 1.5, 
                        display: 'none'
                    })

                    gsap.to($(".mainText .split1 span:nth-child(1)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1'
                    })
                    gsap.to($(".mainText .split1 span:nth-child(2)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.1'
                    })
                    gsap.to($(".mainText .split1 span:nth-child(4)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.2'
                    })
                    gsap.to($(".mainText .split1 span:nth-child(5)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.3'
                    })
                    gsap.to($(".mainText .split1 span:nth-child(6)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.4'
                    })
                    gsap.to($(".mainText .split1 span:nth-child(7)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.5'
                    })
                    gsap.to($(".mainText .split1 span:nth-child(8)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.6'
                    })
                    gsap.to($(".mainText .split1 span:nth-child(9)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.7'
                    })
                    gsap.to($(".mainText .split1 span:nth-child(10)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.8'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(1)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '1.9'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(2)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.0'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(3)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.1'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(4)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.2'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(5)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.3'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(6)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.4'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(8)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.5'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(9)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.6'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(10)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.7'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(11)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.8'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(12)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '2.9'
                    })
                    gsap.to($(".mainText .split2 span:nth-child(13)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.0'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(1)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.1'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(2)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.2'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(3)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.3'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(4)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.4'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(5)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.5'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(6)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.6'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(7)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.7'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(8)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.8'
                    })
                    gsap.to($(".mainText .split3 span:nth-child(9)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '3.9'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(1)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.0'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(2)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.1'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(3)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.2'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(5)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.3'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(6)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.4'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(7)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.5'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(9)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.6'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(10)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.7'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(11)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.8'
                    })
                    gsap.to($(".mainText .split4 span:nth-child(12)"), { 
                        translateY : '0',
                        opacity : '1',
                        delay: '4.9'
                    })

                    gsap.to($("#header"), { 
                        translateY : '0',
                        delay: '9'
                    })
                    gsap.to($("footer"), { 
                        translateY : '0',
                        delay: '9'
                    })

                }
                

                if(imgCurrent > 99){
                    imgCurrent = 100;
                }

            }
        }
        loading();

        
        
    </script>
</body>
</html>